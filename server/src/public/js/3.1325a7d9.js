(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{6360:function(t,e,n){},"6f8e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("data-table",{attrs:{endPoint:"/client",tableTitle:"Clients",optionColumns:t.arr}})],1)},r=[],i=n("a9b0"),o={components:{DataTable:i["a"]},data:function(){return{arr:[]}}},s=o,c=(n("f6bc"),n("2877")),l=Object(c["a"])(s,a,r,!1,null,null,null);e["default"]=l.exports},a9b0:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md divContent",staticStyle:{"max-width":"100%"}},[n("q-list",{staticClass:"rounded-borders"},[n("q-expansion-item",{attrs:{"expand-separator":"expand-separator",icon:"view_column",label:"Toggle columns",caption:"Select columns to show/hide"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"columnToggles"},[t._l(t.columns,(function(e,a){return[n("q-toggle",{key:a,attrs:{val:e.name,label:e.label},model:{value:t.visibleColumns,callback:function(e){t.visibleColumns=e},expression:"visibleColumns"}})]}))],2)])],1)],1),n("q-expansion-item",{attrs:{"expand-separator":"expand-separator",icon:"import_export",label:"Export",caption:"Perform export functions to various formats"}},[n("q-card",[n("q-card-section",[n("q-btn",{staticClass:"btnExport",attrs:{color:"red",label:"PDF"},on:{click:function(e){return t.exportData("pdf")}}}),n("q-btn",{staticClass:"btnExport",attrs:{color:"green",label:"Excel"},on:{click:function(e){return t.exportData("csv")}}})],1)],1)],1)],1),n("hr"),n("q-table",{attrs:{title:t.tableTitle,data:t.data,columns:t.columns,"row-key":"name","visible-columns":t.visibleColumns,dense:"dense",filter:t.filter,"filter-method":t.filterTable,"table-class":"dataTable","table-header-class":"dataTableHeader"},scopedSlots:t._u([{key:"top-right",fn:function(){return[n("div",{staticClass:"col-2 q-table__title"},[n("span",{attrs:{"float-right":""}},[n("button",{attrs:{"float-right":""},on:{click:function(e){t.filter={}}}},[t._v("\n            reset filters\n          ")])])])]},proxy:!0},{key:"header",fn:function(e){return[n("q-tr",{attrs:{props:e}},t._l(e.cols,(function(a){return n("q-th",{key:a.name,attrs:{props:e}},[t._v("\n          "+t._s(a.label)+"\n          "),t.optionColumns.includes(a.name)?n("q-select",{key:a.name,attrs:{outlined:"outlined",dense:"dense",options:t.getSelectionSearchValues(a.name),clearable:""},on:{click:function(t){t.stopPropagation(),t.preventDefault()},input:function(e){return t.startSearch(a.name,e)}},model:{value:t.dropDownFilters[a.name],callback:function(e){t.$set(t.dropDownFilters,a.name,e)},expression:"dropDownFilters[col.name]"}}):n("q-input",{attrs:{outlined:"outlined",dense:"dense",props:e},on:{click:function(t){t.stopPropagation(),t.preventDefault()},input:function(e){return t.startSearch(a.name,e)}},model:{value:a.placeholder,callback:function(e){t.$set(a,"placeholder",e)},expression:"col.placeholder"}})],1)})),1)]}},{key:"body",fn:function(e){return[n("q-tr",{attrs:{props:e},on:{click:function(n){return t.rowClicked(n,e)}}},t._l(e.cols,(function(a){return n("q-td",{key:a.name,attrs:{props:e,"auto-width":""}},[t._v("\n          "+t._s(t.getColumnValueDesc(a.name,a.value))+"\n        ")])})),1)]}}])}),t._t("default",null,{selectedPerson:t.selectedPerson,showDialog:t.showDialog,closeDialog:t.closeDialog})],2)},r=[],i=n("448a"),o=n.n(i),s=n("9523"),c=n.n(s),l=n("ded3"),u=n.n(l),d=(n("b64b"),n("d81d"),n("4de4"),n("caad"),n("2532"),n("d3b7"),n("25f0"),n("a4d3"),n("e01a"),n("ac1f"),n("5319"),n("a15b"),n("99af"),n("07ac"),n("e6cf"),n("a79d"),n("1276"),n("b0c0"),n("8baf")),p=n("0da4"),f=n.n(p),m={name:"DataTable",props:{endPoint:{type:String,required:!0},optionColumns:{type:Array,required:!1},tableTitle:{type:String,required:!0}},data:function(){return{filterMsg:"",options:[],model:"",columns:[],data:[],visibleColumns:[""],loading:!1,fullWidth:!1,tab:"WHAT DOES THIS SAY???",selectedPerson:{},dropDownFilters:{},filter:{},searchText:"",filteredData:[],showDialog:!1}},computed:{},methods:{closeDialog:function(){this.showDialog=!1},filterTable:function(t,e){var n=this;try{return this.filteredData=t,0===Object.keys(e).length?t:(Object.keys(e).map((function(a){""!==e[a]&&(n.filteredData=t.filter((function(t){return n.getColumnValueDesc(a,t[a]).toString().toUpperCase().includes(e[a].toString().toUpperCase())})))})),this.filteredData)}catch(a){console.log("error occured")}},rowClicked:function(t,e){this.showDialog=!0,this.selectedPerson=this.data.filter((function(t){return t.student_number==e.row.student_number}))[0]},getSelectionSearchValues:function(t){switch(t.toLowerCase()){case"grade":return this.getGrades.map((function(t){return t.description}));case"gender":return this.getGenders.map((function(t){return t.description}));case"id_type":return this.getIdTypes.map((function(t){return t.description}));case"birth_country":return this.getCountries.map((function(t){return t.description}));case"home_language":return this.getLanguages.map((function(t){return t.description}));case"race":return this.getRaces.map((function(t){return t.description}));case"combination":return this.getCombinations.map((function(t){return t.description}));case"status":return this.getLearnerStatus.map((function(t){return t.description}));default:return[]}},getColumnValueDesc:function(t,e){switch(t){case"grade":return Array(this.getGrades).map((function(t){t.map((function(t){e===t.id&&(e=t.description)}))})),e;case"birth_country":return Array(this.getCountries).map((function(t){t.map((function(t){e===t.id&&(e=t.description)}))})),e;case"combination":return Array(this.getCombinations).map((function(t){t.map((function(t){e===t.id&&(e=t.description)}))})),e;case"gender":return Array(this.getGenders).map((function(t){t.map((function(t){e===t.id&&(e=t.description)}))})),e;case"home_language":return Array(this.getLanguages).map((function(t){t.map((function(t){e===t.id&&(e=t.description)}))})),e;case"id_type":return Array(this.getIdTypes).map((function(t){t.map((function(t){e===t.id&&(e=t.description)}))})),e;case"race":return Array(this.getRaces).map((function(t){t.map((function(t){e===t.id&&(e=t.description)}))})),e;case"status":return Array(this.getLearnerStatus).map((function(t){t.map((function(t){e===t.id&&(e=t.description)}))})),e;default:return e}},startSearch:function(t,e){""!==e&&null!==e?this.filter=u()(u()({},this.filter),{},c()({},t,e)):(delete this.filter[t],this.filter=u()({},this.filter)),0===Object.keys(this.filter).length&&(this.filter={})},exportData:function(t){if(this.formatData(),"pdf"===String(t)){var e=new d["default"]({orientation:"landscape"}),n=this.visibleColumns.map((function(t){return{header:t.replaceAll("_"," "),dataKey:t}}));e.text("Hydra Report",15,10),f()(e,{body:this.filteredData,columns:n,theme:"grid",bodyStyles:{fontSize:10}}),e.save("Hydra report.pdf")}else{var a="Hydra CSV export",r="data:text/csv;charset=utf-8,";r+=[Object.keys(this.filteredData[0]).join(",")].concat(o()(this.filteredData.map((function(t){return Object.values(t).join(",")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var i=encodeURI(r),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download","".concat(a,".csv")),s.click()}},formatData:function(){var t=this;this.filteredData.map((function(e,n){Object.keys(e).map((function(e){t.filteredData[n][e]=t.getColumnValueDesc(e,t.filteredData[n][e])}))}))}},mounted:function(){var t=this;this.loading=!0,this.$axios.get(this.endPoint).then((function(e){0!=e.data.length&&(t.columns=Object.keys(e.data[0]).map((function(t){return{name:t,label:t.split("_").join(" ").toUpperCase(),field:t,sortable:!0,align:"left"}})),t.visibleColumns=t.columns.reduce((function(t,e,n){return n<=11&&t.push(e.name),o()(t)}),[]),t.data=e.data)})).catch((function(e){t.$q.notify({message:JSON.stringify("error occured ".concat(e))})})).finally((function(){return t.loading=!1}))}},h=m,b=(n("e80b"),n("2877")),g=n("1c1c"),y=n("3b73"),v=n("f09f"),D=n("a370"),C=n("9564"),w=n("9c40"),k=n("eaac"),x=n("bd08"),_=n("357e"),S=n("ddd8"),q=n("27f9"),T=n("db86"),A=n("66e5"),j=n("eebe"),Q=n.n(j),O=Object(b["a"])(h,a,r,!1,null,"27148c91",null);e["a"]=O.exports;Q()(O,"components",{QList:g["a"],QExpansionItem:y["a"],QCard:v["a"],QCardSection:D["a"],QToggle:C["a"],QBtn:w["a"],QTable:k["a"],QTr:x["a"],QTh:_["a"],QSelect:S["a"],QInput:q["a"],QTd:T["a"],QItem:A["a"]})},cb68:function(t,e,n){},e80b:function(t,e,n){"use strict";n("cb68")},f6bc:function(t,e,n){"use strict";n("6360")}}]);