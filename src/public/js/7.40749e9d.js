(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"1f90":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row  invoiceHeadDetails",attrs:{id:"invoiceHeadDetails"}},[a("span",{staticClass:"invoicePrintBtn"},[a("q-btn",{attrs:{label:"Download PDF",icon:"mail"},on:{click:t.downloadPDF}})],1),a("div",{staticClass:"col invoiceMain",attrs:{id:"invoiceMain"}},[a("div",{staticClass:"header row"},[a("div",{staticClass:"col"},[t._m(0),a("input",{attrs:{id:"file-upload",type:"file"},on:{change:t.test}}),a("q-input",{staticClass:"businessName",attrs:{"stack-label":"",label:"What's the name of your business?",dense:"",outlined:"",autogrow:""},model:{value:t.invoiceData.businessName,callback:function(e){t.$set(t.invoiceData,"businessName",e)},expression:"invoiceData.businessName"}}),a("div",{staticClass:"row receipient"},[a("div",{staticClass:"col"},[a("q-input",{staticClass:"receipient",attrs:{"stack-label":"",label:"Who is the invoice for?",outlined:"",dense:""},model:{value:t.invoiceData.recepient,callback:function(e){t.$set(t.invoiceData,"recepient",e)},expression:"invoiceData.recepient"}})],1),a("div",{staticClass:"col"},[a("q-input",{staticClass:"address",attrs:{"stack-label":"",dense:"",label:"Delivery address?",outlined:""},model:{value:t.invoiceData.shipppingAddress,callback:function(e){t.$set(t.invoiceData,"shipppingAddress",e)},expression:"invoiceData.shipppingAddress"}})],1)])],1),a("div",{staticClass:"col"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{staticClass:"invoiceTitle",attrs:{"stack-label":"",dense:"",label:"Invoice title",outlined:""},model:{value:t.invoiceData.invoiceTitle,callback:function(e){t.$set(t.invoiceData,"invoiceTitle",e)},expression:"invoiceData.invoiceTitle"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{staticClass:"invoiceNumber",attrs:{"stack-label":"",dense:"",label:"Invoice number",mask:"##########",outlined:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"plus_one"}})]},proxy:!0}]),model:{value:t.invoiceData.invoiceNumber,callback:function(e){t.$set(t.invoiceData,"invoiceNumber",e)},expression:"invoiceData.invoiceNumber"}})],1)]),a("div",{staticClass:"row invoiceDate"},[t._m(1),a("div",{staticClass:"col"},[a("q-input",{staticClass:"invoiceDate",attrs:{"stack-label":"",dense:"",type:"date",id:"invoiceDate",outlined:""},model:{value:t.invoiceData.invoiceDate,callback:function(e){t.$set(t.invoiceData,"invoiceDate",e)},expression:"invoiceData.invoiceDate"}})],1)]),a("div",{staticClass:"row invoiceDueDate"},[t._m(2),a("div",{staticClass:"col"},[a("q-input",{staticClass:"invoiceDueDate",attrs:{"stack-label":"",type:"date",dense:"",id:"dueDate",outlined:""},model:{value:t.invoiceData.invoiceDueDate,callback:function(e){t.$set(t.invoiceData,"invoiceDueDate",e)},expression:"invoiceData.invoiceDueDate"}})],1)]),a("div",{staticClass:"row balanceDue"},[t._m(3),a("div",{staticClass:"col"},[a("q-input",{staticClass:"balanceDue",attrs:{"stack-label":"",dense:"",id:"balanceDue",outlined:"",readonly:"",prefix:"R"},model:{value:t.invoiceData.balanceDue,callback:function(e){t.$set(t.invoiceData,"balanceDue",e)},expression:"invoiceData.balanceDue"}})],1)])])]),a("q-table",{attrs:{"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],data:t.data,columns:t.columns,"row-key":"name",dense:"","hide-bottom":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header",fn:function(e){return[a("q-tr",{attrs:{props:e}},[t._l(e.cols,(function(i){return a("q-th",{key:i.name,attrs:{props:e}},[t._v("\n            "+t._s(i.label)+"\n          ")])})),a("q-th",{attrs:{"auto-width":""}})],2)]}},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[t._l(e.cols,(function(i,n){return a("q-td",{key:i.name,attrs:{props:e}},[n==e.cols.length-1?[a("q-input",{attrs:{value:t.calculateLineTotal(e.rowIndex),"input-class":"text-right","stack-label":"",dense:"",readonly:"",outlined:""}})]:"Quantity"==i.name||"Rate"==i.name?[a("q-input",{attrs:{"stack-label":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":"","input-class":"text-right",dense:"",outlined:""},model:{value:t.data[e.rowIndex][i.name],callback:function(a){t.$set(t.data[e.rowIndex],i.name,a)},expression:"data[props.rowIndex][col.name]"}})]:[a("q-input",{attrs:{"stack-label":"",autogrow:"",dense:"",outlined:""},model:{value:t.data[e.rowIndex][i.name],callback:function(a){t.$set(t.data[e.rowIndex],i.name,a)},expression:"data[props.rowIndex][col.name]"}})]],2)})),a("q-td",{attrs:{"auto-width":""}},[a("q-btn",{staticClass:"btn",attrs:{size:"sm",color:"accent",round:"",dense:"",icon:"remove"},on:{click:function(a){return t.removeLineItem(e)}}})],1)],2)]}}])}),a("q-btn",{staticClass:"btn btnAddItem",attrs:{label:"Add line item",icon:"add"},on:{click:t.addLineItem}}),a("div",{staticClass:"row bottomSection"},[a("div",{staticClass:"col"},[a("div",[a("q-input",{staticClass:"inputLabel",attrs:{dense:"",outlined:"",value:"Add extra information"}}),a("q-input",{staticClass:"notes",attrs:{autogrow:"","stack-label":"",dense:"",outlined:"",id:"notes"},model:{value:t.invoiceData.notes,callback:function(e){t.$set(t.invoiceData,"notes",e)},expression:"invoiceData.notes"}})],1),a("div",[a("q-input",{staticClass:"inputLabel",attrs:{dense:"",outlined:"",value:"Perhaps add your banking details here?"}}),a("q-input",{staticClass:"miscData",attrs:{autogrow:"","stack-label":"",dense:"",outlined:"",id:"miscData"},model:{value:t.invoiceData.misc,callback:function(e){t.$set(t.invoiceData,"misc",e)},expression:"invoiceData.misc"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"row totalDivs"},[a("div",{staticClass:"col"},[a("q-input",{staticClass:"inputLabel",attrs:{dense:"",outlined:"",value:"Amount excluding VAT","input-class":"text-right"}})],1),a("div",{staticClass:"col"},[a("q-input",{staticClass:"SubTotal",attrs:{"stack-label":"",dense:"",outlined:"","input-class":"text-right",prefix:t.currencySymbol,readonly:""},model:{value:t.invoiceData.subTotal,callback:function(e){t.$set(t.invoiceData,"subTotal",e)},expression:"invoiceData.subTotal"}})],1)]),a("div",{staticClass:"row totalDivs"},[a("div",{staticClass:"col"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{staticClass:"inputLabel",attrs:{dense:"",outlined:"",value:"VAT","input-class":"text-right"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{dense:"",outlined:"",value:"15",hint:"Enter VAT %","input-class":"text-right"},model:{value:t.vatPercentage,callback:function(e){t.vatPercentage=e},expression:"vatPercentage"}})],1)])]),a("div",{staticClass:"col"},[a("q-input",{staticClass:"Tax",attrs:{"stack-label":"",dense:"",outlined:"",prefix:t.currencySymbol,"input-class":"text-right",readonly:""},model:{value:t.invoiceData.vat,callback:function(e){t.$set(t.invoiceData,"vat",e)},expression:"invoiceData.vat"}})],1)]),a("div",{staticClass:"row totalDivs"},[a("div",{staticClass:"col"},[a("q-input",{staticClass:"inputLabel",attrs:{dense:"",outlined:"",value:"Total","input-class":"text-right"}})],1),a("div",{staticClass:"col"},[a("q-input",{staticClass:"Total",attrs:{"stack-label":"",dense:"",outlined:"",prefix:t.currencySymbol,readonly:"","input-class":"text-right"},model:{value:t.invoiceData.total,callback:function(e){t.$set(t.invoiceData,"total",e)},expression:"invoiceData.total"}})],1)])])])],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"custom-file-upload",attrs:{for:"file-upload"}},[a("img",{attrs:{src:"",id:"imgLogo"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("label",{attrs:{for:"invoiceDate"}},[t._v("Date of Invoice")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("label",{attrs:{for:"dueDate"}},[t._v("Due date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("label",{attrs:{for:"balanceDue"}},[t._v("Balance due")])])}],s=(a("b680"),a("159b"),a("a434"),a("d81d"),a("b64b"),a("99af"),a("e499")),l=a("4ebb"),o={name:"Invoice",data:function(){return{imageData:"",data:[{Item:"",Quantity:0,Rate:0,Total:0}],columns:[{name:"Item",align:"left",label:"Item",field:"Item",sortable:!1},{name:"Quantity",align:"left",label:"Quantity",field:"Quantity",sortable:!1},{name:"Rate",align:"left",label:"Unit cost",field:"Rate",sortable:!1},{name:"Total",align:"left",label:"Total",field:"Total",sortable:!1}],pagination:{rowsPerPage:0},invoiceData:{businessName:"",recepient:"",shipppingAddress:"",invoiceTitle:"",invoiceNumber:"",invoiceDate:"",invoiceDueDate:"",balanceDue:0,subTotal:0,vat:0,total:0,notes:"",misc:""},vatPercentage:15,currencySymbol:"R",vatNumber:"4550298311"}},methods:{calculateLineTotal:function(t){var e=this.data[t]["Quantity"]*this.data[t].Rate;return this.data[t].Total=e.toFixed(2),this.calculateSubTotal(),this.calculateVAT(),this.calculateTotal(),e.toFixed(2)},calculateSubTotal:function(){var t=0;this.data.forEach((function(e){t+=parseFloat(e.Total)})),this.invoiceData.subTotal=t.toFixed(2)},calculateVAT:function(){var t=(this.invoiceData.subTotal*(this.vatPercentage/100)).toFixed(2);return this.invoiceData.vat=t,t},calculateTotal:function(){this.invoiceData.total=(parseFloat(this.invoiceData.subTotal)+parseFloat(this.invoiceData.vat)).toFixed(2),this.invoiceData.balanceDue=this.invoiceData.total},test:function(){var t=this,e=document.querySelector("img"),a=document.querySelector("input[type=file]").files[0],i=new FileReader;i.addEventListener("load",(function(){e.src=i.result,t.imageData=i.result}),!1),a&&i.readAsDataURL(a)},addLineItem:function(){this.data.push({Item:"",Quantity:0,Rate:0,Total:0})},removeLineItem:function(t){this.data.splice(t.rowIndex,1)},downloadPDF:function(){var t=this;s["vfs"]=l["pdfMake"].vfs;var e=[];e.push([{text:"Item",style:"tableHeaders",alignment:"left"},{text:"Quantity",style:"tableHeaders",alignment:"right"},{text:"Unit cost",style:"tableHeaders",alignment:"right"},{text:"Total",style:"tableHeaders",alignment:"right"}]),this.data.map((function(a,i){e.push(Object.keys(t.data[i]).map((function(e){return{text:t.data[i][e],alignment:"Item"==e?"left":"right"}})))}));var a={pageMargins:40,defaultStyle:{columnGap:0},styles:{businessName:{fontSize:20,bold:!0,color:"orange",alignment:"left"},vatNumber:{fontSize:15,bold:!0,alignment:"left"},infoTitles:{fontSize:12,bold:!1,alignment:"right"},infoValues:{fontSize:12,bold:!0,alignment:"right"},invoiceTitle:{fontSize:30,bold:!0,alignment:"right"},invoiceNumber:{fontSize:15,bold:!0,alignment:"right"},deliveryInfo:{fontSize:10,bold:!1,alignment:"left"},deliveryValues:{fontSize:10,bold:!0,alignment:"left"},tableHeaders:{bold:!0,fillColor:"#18616e",color:"white",margins:10}},pageSize:"LETTER",content:[{image:this.imageData,height:150,width:150},"\n",{text:this.invoiceData.businessName,style:"businessName"},{text:"VAT No.: ".concat(this.vatNumber),style:"vatNumber"},"\n",{text:"525 Pretoria street Silverton",style:"deliveryValues"},{text:"0761779806",style:"deliveryValues"},{text:"imotofix@gmail.com",style:"deliveryValues"},"\n",{columns:[{text:["Bill To:\n ",{text:this.invoiceData.recepient,style:"deliveryValues"}],width:100},{text:[" Delivery Address:\n",{text:this.invoiceData.shipppingAddress,style:"deliveryValues"}],width:100}],style:"deliveryInfo",alignment:"left"},{text:this.invoiceData.invoiceTitle,style:"invoiceTitle",absolutePosition:{x:0,y:40}},{text:this.invoiceData.invoiceNumber,style:"invoiceNumber",absolutePosition:{x:0,y:80}},{columns:[{text:"Invoice Date:",style:["infoTitles",{alignment:"right"}]},{text:this.invoiceData.invoiceDate,style:"infoValues",width:90}],absolutePosition:{x:0,y:120}},{columns:[{text:"Due Date:",style:["infoTitles",{alignment:"right"}]},{text:this.invoiceData.invoiceDueDate,style:"infoValues",width:90}],absolutePosition:{x:327,y:140}},{columns:[{text:"Balance Due:",style:["infoTitles",{alignment:"right"}]},{text:"".concat(this.currencySymbol," ").concat(this.invoiceData.balanceDue),style:"infoValues",width:90}],absolutePosition:{x:327,y:160}},"\n\n",{layout:"noBorders",table:{headerRows:1,widths:["*",100,100,100],body:e}},"\n\n",{columns:[{text:"SubTotal:",style:["infoTitles",{alignment:"right"}]},{text:"".concat(this.currencySymbol," ").concat(this.invoiceData.subTotal),style:"infoValues",width:90}]},{columns:[{text:"VAT %:",style:["infoTitles",{alignment:"right"}]},{text:"".concat(this.currencySymbol," ").concat(this.invoiceData.vat),style:"infoValues",width:90}]},{columns:[{text:"Total:",style:["infoTitles",{alignment:"right"}]},{text:"".concat(this.currencySymbol," ").concat(this.invoiceData.total),style:"infoValues",width:90}]},"\n\n\n",{stack:[{text:["Notes","\n\n",{text:this.invoiceData.notes,style:"deliveryValues"}],style:"deliveryInfo"},"\n\n",{text:["Banking details","\n\n",{text:this.invoiceData.misc,style:"deliveryValues"}],style:"deliveryInfo"}]}]};s["createPdf"](a).download("".concat(this.invoiceData.invoiceTitle,".pdf"))}}},c=o,r=(a("aab8"),a("2877")),u=a("9c40"),d=a("27f9"),v=a("0016"),b=a("eaac"),m=a("bd08"),p=a("357e"),f=a("db86"),D=a("eebe"),h=a.n(D),y=Object(r["a"])(c,i,n,!1,null,"06e37d98",null);e["default"]=y.exports;h()(y,"components",{QBtn:u["a"],QInput:d["a"],QIcon:v["a"],QTable:b["a"],QTr:m["a"],QTh:p["a"],QTd:f["a"]})},"8c37":function(t,e,a){},aab8:function(t,e,a){"use strict";a("8c37")}}]);