(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"2af5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-form",{ref:"emailSender",staticClass:"formEmail"},[a("div",{staticClass:"row q-gutter-lg emailSender"},[a("div",{staticClass:"col"},[a("q-input",{ref:"to",attrs:{hint:"Type 'All' to broadcast to all clients.",outlined:"",label:"to",dense:"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Value may not be blank"}]},model:{value:e.email.to,callback:function(t){e.$set(e.email,"to",t)},expression:"email.to"}}),a("hr"),a("q-input",{ref:"subject",attrs:{outlined:"",label:"subject",dense:"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Value may not be blank"}]},model:{value:e.email.subject,callback:function(t){e.$set(e.email,"subject",t)},expression:"email.subject"}}),a("hr"),a("q-input",{ref:"message",attrs:{outlined:"",label:"Message",type:"textarea",dense:"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Value may not be blank"}]},model:{value:e.email.message,callback:function(t){e.$set(e.email,"message",t)},expression:"email.message"}})],1)]),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"Send"},on:{click:e.sendEmail}})],1)},s=[],l=a("c973"),i=a.n(l),r=(a("96cf"),{data:function(){return{email:{}}},methods:{sendEmail:function(){var e=this;"ALL"==this.email.to.toUpperCase()&&this.$q.notify("Please note that broadcasting to ALL clients will happen in the background as it may take long."),this.$refs["emailSender"].validate().then(function(){var t=i()(regeneratorRuntime.mark((function t(a){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=14;break}return t.prev=1,t.next=4,e.$axios.post("/communication/send",e.email);case 4:n=t.sent,e.$q.notify(n.data["message"]),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),s=t.t0.response,e.$q.notify(s.data["message"]);case 12:t.next=15;break;case 14:e.$q.notify("Fill in all missing required fields");case 15:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}}}),o=r,u=(a("a58d"),a("2877")),c=a("0378"),m=a("27f9"),d=a("9c40"),f=a("8572"),b=a("eebe"),p=a.n(b),h=Object(u["a"])(o,n,s,!1,null,null,null);t["default"]=h.exports;p()(h,"components",{QForm:c["a"],QInput:m["a"],QBtn:d["a"],QField:f["a"]})},a58d:function(e,t,a){"use strict";a("d816")},d816:function(e,t,a){}}]);